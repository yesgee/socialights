/*!CK:1076203575!*//*1425556280,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["zXA73"]); }

__d("BirthdayRemindersCounterEvent",[],function(a,b,c,d,e,f){e.exports={OPEN_MODAL:"open_modal",PHOTO_FLOW_WITHOUT_PERSONALIZED:"photo_flow_without_personalized",PHOTO_FLOW_WITH_PERSONALIZED:"photo_flow_with_personalized",ADD_PERSONALIZED_PHOTO:"add_personalized_photo",CLICK_ALBUM:"click_album",ADD_ALBUM_PHOTO:"add_album_photo",SELFIE_FLOW:"selfie_flow",ADD_SELFIE:"add_selfie",ADD_UPLOADED:"add_uploaded",POST_WITH_PHOTO:"post_with_photo",POST_WITHOUT_PHOTO:"post_without_photo",POST_NON_SCHEDULED:"post_non_scheduled",POST_SCHEDULED:"post_scheduled",CANCEL_SCHEDULED_MODAL:"cancel_scheduled_modal",CANCEL_SCHEDULED_TIMELINE:"cancel_scheduled_timeline"};},null);
__d("CalendarUI",["Event","Arbiter","AsyncRequest","CSS","DOM","DOMQuery","DOMScroll","Hovercard","Parent","Run","ScrollAwareDOM","Style","UIPagelet","Vector","ViewportBounds","$","copyProperties","ge","goURI"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){function z(){}w(z,{EVENT_ACTION:'EVENT_ACTION',_todayButton:null,_todayElement:null,_upPager:null,_months:[],_timestamp:null,_registeredReminders:false,init:function(){h.subscribe(this.EVENT_ACTION,function(ba,ca){s.loadFromEndpoint('CalendarHeaderPagelet','pagelet_calendar_header',JSON.parse(ca.actioncontext));});var aa=u.addTop(function(){var ba=x('pagelet_calendar_header');if(ba&&r.isFixed(ba.firstChild)){var ca=ba.firstChild.getBoundingClientRect();return ca.bottom;}return 0;});p.onLeave(function(){aa.remove();});},initGridItem:function(aa,ba){g.listen(aa,'click',function(event){if(o.byTag(event.getTarget(),'a'))return;i.bootstrap(ba,aa);return;});},pageUp:function(){j.removeClass(this._upPager.parentNode,'fbCalendarNoPadding');j.addClass(this._upPager.parentNode,'pvl');if(this._upPager)this._upPager.click();},getScrollFunction:function(aa){var ba=this;return function(event){var ca=o.byClass(event.getTarget(),'fbCalendarBox'),da=ba._months.indexOf(ca);if(aa&&da===0){ba.pageUp();}else ba.scrollTo(ba._months[da+(aa?-1:1)],true);};},registerArrowHandlers:function(aa,ba){g.listen(aa,'click',this.getScrollFunction(true));g.listen(ba,'click',this.getScrollFunction(false));},initScrollItem:function(aa,ba){g.listen(aa,'click',this.scrollTo.bind(this,ba));},scrollTo:function(aa,ba){aa=l.isNode(aa)?aa:x(aa);var ca=0,da=40;if(aa){var ea=t.getElementPosition(v('fbCalendarWrapper')).y,fa;if(document.getElementById('headerArea')){fa=t.getElementDimensions(v('headerArea')).y;}else{fa=0;da=12;}var ga=t.getElementPosition(aa).y;ca=ga-ea-fa+da;}else ca=t.getElementPosition(v('bottomContent')).y;m.scrollTo(new t(0,ca,'document'),ba!==false);},initUnhide:function(aa,ba){g.listen(aa,'click',function(event){var ca=o.byClass(ba,'fbCalendarItem');k.remove(ba);j.removeClass(k.find(ca,'.fbHiddenCalendarItem'),'fbHiddenCalendarItem');});},registerMonth:function(aa,ba){if(!this._timestamp||ba>this._timestamp){this._months.push(aa);}else this._months.unshift(aa);this._timestamp=ba;},registerHomepageReminders:function(){if(!this._registeredReminders){h.subscribe(this.EVENT_ACTION,function(aa,ba){if(x('pagelet_reminders'))s.loadFromEndpoint('RemindersPagelet','pagelet_reminders');});this._registeredReminders=true;}},registerTodayClickHandler:function(){this._todayButton.onclick=null;g.listen(this._todayButton,'click',this.scrollTo.bind(this,this._todayElement));},registerUpPagerButton:function(aa){var ba=l.isNode(aa)?aa:x(aa);j.removeClass(ba,'pvl');j.removeClass(ba,'hidden_elem');j.addClass(ba,'fbCalendarNoPadding');if(ba){this._upPager=v(ba.getElementsByTagName('a')[0]);}else this._upPager=null;},registerTodayElement:function(aa){this._todayElement=l.isNode(aa)?aa:x(aa);this._todayButton&&this.registerTodayClickHandler();},registerTodayButton:function(aa){this._todayButton=aa;this._todayElement&&this.registerTodayClickHandler();},registerEventLink:function(aa,ba){h.subscribe(this.EVENT_ACTION,function(ca,da){if(da.eid===ba)switch(da.action){case 'GOING':j.removeClass(aa.parentNode,"hidden_elem");j.addClass(aa,"fbCalendarEventGoing");break;case 'MAYBE':j.removeClass(aa.parentNode,"hidden_elem");j.removeClass(aa,"fbCalendarEventGoing");break;case 'DECLINED':case 'HIDDEN':n.hide(true);j.addClass(aa.parentNode,"hidden_elem");break;case 'EDITED':if(da.name)k.setContent(aa,da.name);if(da.day){var ea=x("pagelet_calendar_day_"+da.day);if(ea){var fa=l.find(ea,".fbCalendarGridEventList");if(l.scry(fa,"li").length>=4){j.addClass(aa.parentNode,"hidden_elem");s.loadFromEndpoint("CalendarDayPagelet","pagelet_calendar_day_"+da.day,{day:da.timestamp});}else k.prependContent(fa,aa.parentNode);}else j.addClass(aa.parentNode,"hidden_elem");}break;}});},informEventGoing:function(aa,ba){h.inform(this.EVENT_ACTION,{eid:aa,action:'GOING',actioncontext:ba});},informEventMaybe:function(aa,ba){h.inform(this.EVENT_ACTION,{eid:aa,action:'MAYBE',actioncontext:ba});},informEventDeclined:function(aa,ba){h.inform(this.EVENT_ACTION,{eid:aa,action:'DECLINED',actioncontext:ba});},informEventHidden:function(aa,ba){h.inform(this.EVENT_ACTION,{eid:aa,action:'HIDDEN',actioncontext:ba});},informEventEdited:function(aa,ba,ca,da){h.inform(this.EVENT_ACTION,{eid:aa,action:'EDITED',name:ba,day:ca,timestamp:da});},removeCalendarListHeader:function(aa){var ba=k.scry(aa,"^.fbCalendarOverlay .fbCalendarItem"),ca=k.find(aa,"^.fbCalendarItem");if(ba.length==1)ca=k.find(aa,"^.fbCalendarOverlay");k.remove(ca);},reloadPage:function(){y(window.location);},unhide:function(aa){setTimeout(function(){q.monitor(aa.nextSibling,j.show.bind(null,aa));},0);}});e.exports=z;},null);
__d("ComposerXNUX",["AsyncRequest","ComposerXDragDrop","CSS","DOM","Event","SubscriptionsHandler","csx","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o={},p={};function q(s,t,u){var v=u.dataTransfer.items;if(v){var w=h.filterImages(v);if(!w.length)return;}r.acknowledgeDialog(s,t);}var r={CAMERA_NUX:'camera_nux_seen',ADD_MORE_NUX:'add_more_nux_seen',HMU_NUX:'hmu_nux_seen',HMU_POST_NUX:'hmu_post_nux_seen',FACEREC_SUGGESTIONS_NUX:'facerec_suggestions_nux_seen',TAGGING_FLYOUT_NUX:'tagging_flyout_nux_seen',OGCOMPOSER_NEW_ICON_PICKER_NUX:'minutiae_icon_picker_nux_seen',SHARER_MINUTIAE_NUX:'sharer_minutiae_nux_seen',ADD_STICKERS_NUX:'add_stickers_nux_seen',UPCOMING_BIRTHDAYS_NUX:'upcoming_birthdays_nux_seen',onInit:function(s,t,u){if(o[u])return;p[u]=p[u]||new l();var v=p[u];v.engage();var w=s.getRoot();i.addClass(w,"_4bka");var x=j.scry(w,"._3o-a");x.forEach(function(y){v.addSubscriptions(k.listen(y,'click',r.acknowledgeDialog.bind(null,u,s)));});if(u==r.CAMERA_NUX)v.addSubscriptions(k.listen(document,'dragenter',q.bind(null,u,s)));v.addSubscriptions(s.subscribe('cancel',r.sendMarkSeenRequest.bind(null,u)),s.subscribe('hide',v.release.bind(v)));s.setContext(t).show();},acknowledgeDialog:function(s,t){r.sendMarkSeenRequest(s);t.hide();},sendMarkSeenRequest:function(s){if(!o[s]){new g('/ajax/photos/composer/mark_nux_seen.php').setData({type:s}).send();o[s]=true;}},onCleanup:function(s){s.hide();}};e.exports=r;},null);
__d("XEventReminderImpressionLoggerAsyncController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("\/events\/ajax\/reminder\/impression\/",{acontext:{type:"StringToStringMap",required:true},data:{type:"StringToStringMap"}});},null);
__d("EventReminderController",["Arbiter","AsyncRequest","DOM","DOMQuery","Event","ScrollableArea","XEventReminderImpressionLoggerAsyncController"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n={registerReminder:function(o,p){this._firstOpen=true;var q=o.getDialog(),r=l.getInstance(j.scry(q.getRoot(),'.uiScrollableArea')[0]),s=null;if(r){s=i.find(r.getElement(),'div.uiScrollableAreaWrap');r.subscribe('scroll',function(){return g.inform('EventReminderDialog/scroll',{rect:s.getBoundingClientRect(),scrollTop:s.scrollTop});});}k.listen(o.getRoot(),'click',function(event){event.preventDefault();});q.subscribe('show',function(){var t=m.getURIBuilder().setStringToStringMap('acontext',p).setStringToStringMap('data',{first_open:this._firstOpen}).getURI();new h(t).send();this._firstOpen=false;var u={};if(s)u={rect:s.getBoundingClientRect()};g.inform('EventReminderDialog/show',u);}.bind(this));q.subscribe('hide',function(){return g.inform('EventReminderDialog/hide');});}};e.exports=n;},null);
__d("RequestListController",["Arbiter","ChannelConstants","CSS","DOM"],function(a,b,c,d,e,f,g,h,i,j){function k(l){"use strict";this.$RequestListController0=l;this.$RequestListController1=0;this.$RequestListController2={};g.subscribe(h.getArbiterType('jewel_requests_remove_old'),this.$RequestListController3.bind(this));this.fromDom();}k.prototype.$RequestListController4=function(l){"use strict";var m=l.match(/^(\d+)_(\d+)/);return (m)?{requester:m[1],type:m[2]}:(void 0);};k.prototype.$RequestListController5=function(l){"use strict";var m=l?this.$RequestListController4(l):(void 0),n;if(m&&m.requester){n=parseInt(m.requester,10);if(isNaN(n))n=(void 0);}var o;if(m&&m.type){o=parseInt(m.type,10);if(isNaN(o))o=(void 0);}return {requester:n,type:o};};k.prototype.fromDom=function(){"use strict";j.scry(this.$RequestListController0,'.fbRequestList li.objectListItem').forEach(function(l){var m=l.getAttribute('id');if(m){var n=this.$RequestListController5(m);if(n.requester)this.$RequestListController2[n.requester]={id:m,item:l};++this.$RequestListController1;}}.bind(this));this.$RequestListController6();};k.prototype.$RequestListController3=function(l,m){"use strict";var n=this.$RequestListController2[m.obj.from];if(n){j.remove(n.item);delete this.$RequestListController2[m.obj.from];--this.$RequestListController1;this.$RequestListController6();}};k.prototype.$RequestListController6=function(){"use strict";j.scry(this.$RequestListController0,'li.empty').forEach(function(l){i.conditionShow(l,this.$RequestListController1<=0);}.bind(this));};e.exports=k;},null);
__d("MegaphoneHelper",["Animation","Arbiter","AsyncRequest","DOM","Dialog","ge"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m={hideStory:function(n,o,p,q,r){var s={mp_id:n,location:o,context:q};new i().setURI('/ajax/megaphone/megaphone_hide.php').setMethod('POST').setData(s).setHandler(function(u){r&&r(u);}).send();var t=l(p);if(t)new g(t).to('height',0).duration(500).hide().go();},createModalStory:function(n,o,p,q){var r;if(!n.buttons||!n.buttons.length){n.buttons=k.CLOSE;r=m.hideStory(o,p,q,null);}var s=new k(n);if(r)s.setHandler(r);s.show();},buttonOnClick:function(n,o,p,q,r,s,t,u){var v=function(){if(r){new i().setURI(q).send();}else if(!t)document.location.href=q;};if(s){m.hideStory(n,o,u||'',p,v);if(t&&q)window.open(q);}else v();},renderFullWidth:function(n,o,p){var q=l(n);j.prependContent(q,o);h.inform('Megaphone/show',n,h.BEHAVIOR_PERSISTENT);}};e.exports=m;},null);
__d("legacy:megaphone",["MegaphoneHelper"],function(a,b,c,d){a.MegaphoneHelper=b('MegaphoneHelper');},3);
__d("CheckpointFlowMegaphone",["submitForm"],function(a,b,c,d,e,f,g){var h={show:function(i){g(i);}};e.exports=h;},null);
__d("FlexibleScrollableArea",["DataStore","DOM","DOMDimensions","Event","Parent","Run","Style","Vector","throttle"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=30,q=100;function r(s,t,u,v,w){"use strict";this._element=s;this._tight=t;this._measureFrom=u;this._minHeight=v;this._margin=w;g.set(this._element,'FlexibleScrollableArea',this);l.onLeave(this.cleanup.bind(this));this._listener=j.listen(window,'resize',o(this.poke,q,this));this.poke();}r.prototype.poke=function(){"use strict";var s=h.find(this._element,'.uiScrollableAreaBody'),t=n.getElementDimensions(s).y+i.measureElementBox(s,'height',true,true,true),u;if(this._tight){var v=this.getMaxHeight();if(t<v+p)v+=p;u=Math.max(Math.min(t,v),this._minHeight);}else u=Math.max(this.getMaxHeight(),this._minHeight);m.set(this._element,'height',u+'px');};r.prototype.getMaxHeight=function(){"use strict";if(this._measureFrom==='bottom'){var s=n.getViewportDimensions().y,t=n.getElementPosition(this._element,'viewport').y,u=s-t;return u-this._margin;}var v=n.getElementPosition(this._element,'viewport').y+n.getElementDimensions(this._element).y;return v-this._margin;};r.prototype.cleanup=function(){"use strict";this._listener&&this._listener.remove();};r.getInstance=function(s){"use strict";var t=k.byClass(s,'flexibleScrollableArea');return t?g.get(t,'FlexibleScrollableArea'):null;};e.exports=r;},null);
__d("LoadRecommendations",["Event","AsyncRequest"],function(a,b,c,d,e,f,g,h){var i={loadOnClick:function(j){g.listen(j,'click',function(){new h().setURI('/ajax/pages/reminder/recommendations').send();});}};e.exports=i;},null);
__d("PubContentTrendingUnitTruncation",["DOM","PubContentTrendingUnitEllipsis","Style","csx"],function(a,b,c,d,e,f,g,h,i,j){var k,l={truncate:function(m){var n=g.scry(m,"._5v9v"),o=n[n.length-1];if(o){if(k===(void 0)){var p=g.find(m,"._uhk");k=i.getFloat(p,'maxHeight');}var q=g.find(m,"._5r--");h.add(o,k,q);}}};e.exports=l;},null);
__d("XPubcontentTrendingSeeMoreController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("\/pubcontent\/trending\/see_more\/",{topic_ids:{type:"IntVector",defaultValue:[]},position:{type:"Int",required:true}});},null);
__d("NewPubcontentTrendingUnitToggle",["AsyncRequest","CSS","DOM","Event","PubContentTrendingUnitTruncation","XPubcontentTrendingSeeMoreController","Run","csx","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=false,q=[],r,s;function t(){if(r){r.remove();r=null;}if(s){s.remove();s=null;}}var u={listenForToggle:function(v,w,x,y,z,aa){function ba(){t();p=true;if(y)h.addClass(y,"_24gw");if(w)h.hide(w);if(x)h.show(x);z.forEach(function(da){q.push(da);});var ca=(l.getURIBuilder()).setIntVector('topic_ids',q).setInt('position',aa).getURI();new g().setURI(ca).setHandler(function(){if(x)h.hide(x);i.scry(v,"._5my1").forEach(function(da){k.truncate(da);});}).send();}if(y)r=j.listen(y,'click',ba);if(w)s=j.listen(w,'click',ba);m.onLeave(t);},isToggled:function(){return p;},setIsToggled:function(v){j.fire(v,'click');},addTopicID:function(v){q.push(v);}};e.exports=u;},null);
__d("PubcontentTrendingUnitToggle",["CSS","DOM","Event","PubContentTrendingUnitTruncation","Run","csx","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=false,o,p;function q(){if(o){o.remove();o=null;}if(p){p.remove();p=null;}}var r={listenForToggle:function(s,t,u){function v(){q();n=true;if(u)g.addClass(u,"_24gw");if(t)g.hide(t);h.scry(s,"._5my1").forEach(function(w){g.show(w);j.truncate(w);});}if(u)o=i.listen(u,'click',v);if(t)p=i.listen(t,'click',v);k.onLeave(q);},isToggled:function(){return n;}};e.exports=r;},null);
__d("XPubcontentTrendingReplaceTrendsController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("\/pubcontent\/trending\/trending_unit\/",{is_expanded:{type:"Bool",defaultValue:false}});},null);
__d("PubcontentTrendingUnitRefresh",["AsyncRequest","PubcontentTrendingUnitToggle","XPubcontentTrendingReplaceTrendsController"],function(a,b,c,d,e,f,g,h,i){var j={refreshTrendingUnitWithDelay:function(k){var l=k*1000;setTimeout(function(){var m=h.isToggled(),n=(i.getURIBuilder()).setBool('is_expanded',m).getURI();new g().setURI(n).send();},l);}};e.exports=j;},null);
__d("TrendingRHCLogger",["AsyncSignal","CSS","Event","Parent","Run","BanzaiScuba","TrendingRHCConfig","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o,p,q,r,s,t,u,v,w=3,x=false,y=false;function z(ea,fa,ga,ha){var ia=new l('trending_rhc',null,{sampleRate:m.sample_rate});ia.addNormal('country',s);ia.addNormal('post_search_trending_feeds',m.post_search_trending_feeds);ia.addNormal('event',fa);ia.addNormal('position',ea);ia.addNormal('qe_group',p);if(x){var ja=ea<=w?q:v;ia.addNormal('source',ja);}else ia.addNormal('source',q);ia.addNormVector('categories',ga);ia.addNormal('topic_id',ha);ia.post();}function aa(ea,fa){var ga=ea.getAttribute('data-position');if(!ga)return;var ha=ea.getAttribute('data-categories'),ia=ha?JSON.parse(ha):null,ja=ea.getAttribute('data-topicid');z(ga,fa,ia,ja);}function ba(event){var ea=null,fa=event.getTarget(),ga=j.byClass(event.getTarget(),"_2w2e");if(ga){fa=ga;}else if(!h.hasClass(fa,"_5my2")){ea=j.byClass(fa,"_4_nl");fa=j.byClass(fa,"_5my2");}if(!fa||ea||h.hasClass(event.getTarget(),"_19_3")||h.hasClass(event.getTarget(),"_1k6k"))return;aa(fa,'click');var ha=fa.getAttribute('data-position');if(ha==='seemore'||ha==='trendingheader')if(x){y=true;}else ca();}function ca(){if(!o)return;if(x){new g('/ajax/pubcontent/trending_rhc/log_hidden',{keys:JSON.stringify(o),source:v,scores:JSON.stringify(t),query_id:u}).send();}else new g('/ajax/pubcontent/trending_rhc/log_hidden',{keys:JSON.stringify(o),source:q,scores:JSON.stringify(t),query_id:r}).send();o=null;}var da={init:function(ea,fa){q=fa.source;p=fa.qe_group;s=fa.country;o=fa.hidden_keys;r=fa.query_id;t=fa.hidden_scores;if(fa.has_litestand==='gk')x=true;var ga=i.listen(ea,'click',ba);k.onLeave(function(){ga.remove();});},initSeeMore:function(ea,fa,ga,ha,ia){o=fa;t=ga;u=ha;v=ia;var ja=i.listen(ea,'click',ba);if(y){ca();}else y=false;k.onLeave(function(){ja.remove();});},logHovercardArticleClick:function(ea,fa){z(ea,'hover_article_click',null,fa);},logHovercardFeedClick:function(ea,fa){z(ea,'hover_feed_click',null,fa);},logImpression:function(ea){aa(ea,'imp');},getSource:function(){return q;},getQueryID:function(){return r;},getSeeMoreSource:function(){return v;},getSeeMoreQueryID:function(){return u;}};e.exports=da;},null);
__d("XPubcontentTrendingHideConfirmController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("\/pubcontent\/trending\/hide_confirm\/",{hidden_topic_id:{type:"Int",required:true},position:{type:"Int",defaultValue:0},reason:{type:"Int",required:true},source:{type:"String"},trqid:{type:"Int",defaultValue:-1}});},null);
__d("XPubcontentTrendingInsertItemController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("\/pubcontent\/trending\/hide_options\/",{num_removed_topics:{type:"Int",defaultValue:0},trending_topic_id:{type:"Int",required:true},topic_ids:{type:"IntVector",defaultValue:[]}});},null);
__d("TrendingRHCHideForDeferredSeemore",["AsyncRequest","CSS","DOM","DOMQuery","Event","PubContentTrendingUnitTruncation","TrendingRHCLogger","URI","XPubcontentTrendingHideConfirmController","XPubcontentTrendingInsertItemController","cx","csx","tidyEvent"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){var t,u,v=false,w=['webkitAnimationEnd','animationend','mozAnimationEnd','oAnimationEnd','MSAnimationEnd'];function x(da){h.removeClass(da,"_4_ni");}function y(da){da.sort(function(ea,fa){var ga=Number(ea.getAttribute('data-position')),ha=Number(fa.getAttribute('data-position'));if(ga&&ha)return ga<ha?-1:1;return 0;});return da;}function z(da,ea){var fa=j.scry(da,"._5my2"),ga=fa.filter(function(ia){var ja=Number(ia.getAttribute('data-position'));return ja>=ea;}),ha=[];ga.forEach(function(ia){var ja=Number(ia.getAttribute('data-position'));ia.setAttribute('data-position',ja-1);var ka=j.scry(ia,"._7ge");ka.forEach(function(la){var ma=n(la.getAttribute('href')).addQueryData('position',ja-1);ha.push({link:la,uri:ma.toString()});});});ha.forEach(function(ia){var ja=ia.link;ja.setAttribute('href',ia.uri);});u++;}function aa(da,ea){var fa=da[0],ga=da.filter(function(ha){return !h.hasClass(ha,"_5my1");});if(ga&&ga[0])h.addClass(ga[0],"_5my1");h.addClass(fa,"_4_ni");h.show(fa);m.logImpression(fa);w.forEach(function(event){fa.addEventListener(event,function(){l.truncate(fa);});});}function ba(da,ea){var fa=j.find(da,"^._5mym"),ga=j.scry(fa,"._5my2.hidden_elem");ga=y(ga);var ha=j.find(da,"^._5my2"),ia=i.create('div',{className:"_4_nj"});if(ga.length>=1)aa(ga,ha);var ja=Number(ha.getAttribute('data-position'));z(fa,ja);i.replace(ha,ia);var ka=(o.getURIBuilder()).setInt('reason',da.firstChild.value).setInt('hidden_topic_id',ea).setInt('position',ja);if(m.getSource())ka.setString('source',m.getSource());if(m.getQueryID())ka.setInt('trqid',m.getQueryID());var la=ka.getURI();new g().setURI(la).setRelativeTo(da).send();}var ca={initializeTrendingTopics:function(da){t=da;u=0;},addTopicID:function(da){if(t)t.push(da);},addTopicIDs:function(da){if(t)da.forEach(function(ea){t.push(ea);});},confirmHide:function(da,ea){var fa=false;s(k.listen(da,'click',function(){setTimeout(function(){if(fa)return;fa=true;ba(da,ea);},100);}));},listenForHide:function(da,ea){s(k.listen(da,'click',function(){var fa=j.find(da,"^._5my2");x(fa);var ga=j.find(fa,"._4_nl"),ha=j.find(fa,"._4_nm");h.hide(ha);h.show(ga);if(!v){v=true;var ia=(p.getURIBuilder()).setInt('trending_topic_id',ea).setIntVector('topic_ids',t).setInt('num_removed_topics',u).getURI();new g().setURI(ia).setRelativeTo(da).setHandler(function(){v=false;}).send();}}));},listenForUndo:function(da){var ea=j.find(da,"._4_nn");s(k.listen(ea,'click',function(){var fa=j.find(da,"^._5my2 ._4_nm");h.hide(da);h.show(fa);var ga=j.scry(fa,"^._5myl ._4loq");i.remove(ga[ga.length-1]);t.pop();}));},hideSeeMoreLink:function(){var da=j.scry(document,"a._5my9");if(da&&da.length>0&&!h.hasClass(da[0],'hidden_elem'))h.addClass(da[0],"_4_nk");}};e.exports=ca;},null);
__d("ReminderStory",["AsyncRequest","Arbiter","DOMQuery","Event","FlexibleScrollableArea","LayerAutoFocus","ScrollableArea","SubscriptionsHandler","UIPagelet","getActiveElement"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){function q(r,s,t,u,v){"use strict";this.$ReminderStory0=false;this.$ReminderStory1=s;this.$ReminderStory2=r;j.listen(r,'click',function(event){if(t&&i.contains(t,event.target))return;s.show();if(u)new g('/growth/reminder/logging.php').setData({context_data:u,first_click:!this.$ReminderStory0}).send();this.$ReminderStory0=true;}.bind(this));if(v)s.subscribeOnce('show',function(){o.loadFromEndpoint(v,s.getContent());});s.disableBehavior(l);s.subscribe('aftershow',function(){var w=s.getRoot(),x=i.scry(w,'#SuggestBelowInvite')[0];if(x)new g('/ajax/pages/reminder/recommendations').send();var y=s.hide.bind(s);this.$ReminderStory3=new n();this.$ReminderStory3.addSubscriptions(j.listen(window,'resize',y),j.listen(window,'scroll',y));var z=i.scry(w,'.inlineReplyTextArea');z[0]&&z[0].focus();var aa=i.scry(w,'.jewelItemNew'),ba=[];aa.forEach(function(fa){var ga=aa[fa].getAttribute('id');if(ga&&ga.endsWith('_1_req'))ba=ba.concat(ga.replace('_1_req',''));});if(ba.length>0)new g('/friends/requests/log_impressions').setData({ids:ba.join(','),ref:'reminder_box'}).send();var ca=m.getInstance(i.scry(s.getRoot(),'.uiScrollableArea')[0]),da=k.getInstance(i.scry(s.getRoot(),'.flexibleScrollableArea')[0]),ea=function(){if(da)da.poke();if(ca){ca.poke();j.fire(i.scry(s.getRoot(),'.scrollable')[0],'scroll');}};ea();h.subscribe('reflow',function(){var fa=i.scry(w,'.fbRemindersBirthdayList');if(z&&fa)for(var ga=0;ga<z.length;++ga)if(z[ga]==p()&&i.contains(fa[0],z[ga]))ea();});}.bind(this));s.subscribe('beforehide',function(){if(this.$ReminderStory3){this.$ReminderStory3.release();this.$ReminderStory3=null;}}.bind(this));}q.prototype.getDialog=function(){"use strict";return this.$ReminderStory1;};q.prototype.getRoot=function(){"use strict";return this.$ReminderStory2;};e.exports=q;},null);
__d("ReminderStoryUtils",["CSS","cx","Event","Parent"],function(a,b,c,d,e,f,g,h,i,j){var k={hideOnClick:function(l,m){i.listen(m,'click',function(){g.hide(l);});},showBalloon:function(l){var m=j.byClass(l,"egoOrganicColumn");g.addClass(m,"_1zk7");}};e.exports=k;},null);
__d("XBirthdayRemindersCounterController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("\/birthday\/reminder\/counter\/",{event:{type:"Enum",required:true,enumType:1}});},null);
__d("BirthdayRemindersCounter",["AsyncSignal","XBirthdayRemindersCounterController"],function(a,b,c,d,e,f,g,h){var i={logEvent:function(event){var j=h.getURIBuilder().setEnum('event',event).getURI();(new g(j)).send();}};e.exports=i;},null);
__d("XBirthdayRemindersCameraPreviewController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("\/birthday\/reminder\/camera\/preview\/",{photo_fbid:{type:"Int",required:true},target_id:{type:"Int",required:true}});},null);
__d("BirthdayModal",["AsyncRequest","BirthdayRemindersCounter","BirthdayRemindersCounterEvent","Button","ComposerXNUX","CSS","DataStore","DOM","Event","FileInputUploader","Focus","Layer","Parent","XBirthdayRemindersCameraPreviewController","csx","cx","goURI"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){var x=null,y={},z,aa,ba={init:function(ca,da){z=da;o.listen(ca,'click',function(){h.logEvent(i.OPEN_MODAL);da.show();});},addComposers:function(ca,da){if(!da||(da!==x))y={};x=da;for(var ea in ca)if(ca.hasOwnProperty(ea))this._addComposer(n.find(ca[ea],"._5j0b"),ea);},_showInput:function(ca){var da=n.scry(ca,"._u48").pop();if(!da)return;var ea=n.find(ca,"._4ovy"),fa=n.find(ea,'.inlineReplyTextArea');l.hide(da);l.show(ea);q.set(fa);},_addComposer:function(ca,da){y[da]=ca;var ea=n.scry(ca,"._4ovw").pop();if(!ea)return;var fa=this;['click','focus'].forEach(function(ha){o.listen(ea,ha,function(event){var ia=event.getTarget();if(s.byClass(ia,"_260q"))return;fa._showInput(ca);});});var ga=n.find(ca,"._4ow2");this._addRemoveButton(ga,da);return true;},addUpcomingBirthdays:function(ca,da){o.listen(da.firstChild,'click',function(event){l.show(ca);l.hide(da);});},attachPhoto:function(ca,da,ea){var fa=y[ea];if(!fa)return;var ga=n.find(fa,"._4ovz");l.removeClass(ga,"._4ow0");var ha=n.find(fa,"._4ow1");ha.appendChild(da);n.appendContent(ga,ca);var ia=n.find(fa,"._4ow2");l.show(ia);this._showInput(fa);var ja=n.find(fa,"._30e4");j.setEnabled(ja,true);},initUploader:function(ca,da,ea,fa){var ga=ca.getInput();ca.subscribe('change',this._uploadPhoto.bind(this,ga,fa,ea));},_uploadPhoto:function(ca,da,ea){var fa=y[ea];if(!fa)return;h.logEvent(i.ADD_UPLOADED);this._showInput(fa);var ga=n.find(fa,"._4ow3"),ha=n.find(fa,"._4ow4");l.show(ga);l.hide(ha);var ia=new p(ca);ia.setURI(da.uploadURI).setData(da.uploadData).setAllowCrossOrigin(true).setUploadInParallel(true).setFiles(ca.files).send();var ja=n.find(fa,"._30e4");j.setEnabled(ja,false);var ka=r.getTopmostLayer();if(ka)ka.hide();},getCameraPreview:function(ca,da){var ea=y[da];if(!ea)return;h.logEvent(i.ADD_SELFIE);this._showInput(ea);var fa=n.find(ea,"._4ow3"),ga=n.find(ea,"._4ow4");l.show(fa);l.hide(ga);var ha=t.getURIBuilder().setInt('target_id',da).setInt('photo_fbid',ca).getURI();new g(ha).send();var ia=n.find(ea,"._30e4");j.setEnabled(ia,false);},showPhotoPicker:function(ca){ca.subscribeOnce(['show'],function(){l.addClass(z.getContentRoot(),"_30e3");}.bind(this));ca.subscribeOnce(['hide'],function(){z.show();l.removeClass(z.getContentRoot(),"_30e3");}.bind(this));},addPhotoItem:function(ca,da,ea,fa,ga){var ha=y[fa];if(!ha)return;o.listen(ca,'click',function(){h.logEvent(ga);var ia=n.find(ha,"._4ow3"),ja=n.find(ha,"._4ovz"),ka=n.find(ha,"._4ow4");l.show(ia);l.hide(ka);l.removeClass(ja,"._4ow0");var la=n.find(ha,"._4ow1");la.appendChild(ea);n.appendContent(ja,da);var ma=n.find(ha,"._4ow2");l.show(ma);this._showInput(ha);var na=r.getTopmostLayer();if(na)na.hide();}.bind(this));},_addRemoveButton:function(ca,da){var ea=y[da];if(!ea)return;o.listen(ca,'click',function(fa){fa.kill();l.hide(ca);var ga=n.find(ea,"._4ow3"),ha=n.find(ea,"._4ovz"),ia=n.find(ea,"._4ow4");l.hide(ga);l.show(ia);l.addClass(ha,"._4ow0");if(ha.firstChild)n.remove(ha.firstChild);n.scry(ea,"._4ow5").forEach(function(ja){n.remove(ja);});}.bind(this));},_resetComposer:function(ca){var da=n.find(ca,"._4ow2");da.click();var ea=n.find(ca,".uiMentionsInput");m.get(ea,'MentionsInput').reset();},finishPosting:function(ca,da,ea){if(ea)return w(window.location.href,true);var fa=y[da];if(!fa)return;this._resetComposer(fa);l.addClass(fa,"_4dgh");},cancelScheduled:function(ca,da){if(da)return w(window.location.href,true);var ea=y[ca];if(!ea)return;l.removeClass(ea,"_4dgh");},setPhotoAlbumView:function(ca){aa=ca;},setPhotoView:function(ca){if(!aa)return;var da=n.find(aa,"._5r32");if(da){l.hide(da);}else return;var ea=n.find(aa,"._375u");ea.appendChild(ca);var fa=n.find(ca,"._375v");o.listen(fa,'click',function(){l.show(da);var ga=n.find(aa,"._375w");n.remove(ga);}.bind(this));},attachFlyout:function(ca){var da=ca.getContext(),ea=n.find(ca.getContentRoot(),"._21xo"),fa=n.scry(ca.getContentRoot(),"._15p7").pop(),ga=function(){l.conditionClass(da,"_21xn",ca.isShown());};ga();ca.subscribe(['show','hide'],ga);o.listen(da,'click',function(ha){ca.conditionShow(!ca.isShown());ha.kill();});o.listen(ea,'click',function(){ca.hide();});if(fa)o.listen(fa,'click',function(){ca.hide();});},initMegaphone:function(ca,da){o.listen(da,'click',function(){n.remove(ca);k.sendMarkSeenRequest(k.UPCOMING_BIRTHDAYS_NUX);});}};e.exports=ba;},null);